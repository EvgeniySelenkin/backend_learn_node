# –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ2

## –¢–µ–º–∞: –†–∞–∑–±–∏–µ–Ω–∏–µ API –ø–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–º –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º: Controller, Service, Repository

<br/>

–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–ª –∑–∞ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—É—é —Ä–∞–±–æ—Ç—É -- 10 –±–∞–ª–ª–æ–≤.

## –û–ø–∏—Å–∞–Ω–∏–µ –ª–∞–±—ã:

–í —ç—Ç–æ–π –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π –º—ã –Ω–µ–º–Ω–æ–≥–æ –∏–∑–º–µ–Ω–∏–º –Ω–∞—à –∫–æ–¥ –∏–∑ –ø–µ—Ä–≤–æ–π —Ä–∞–±–æ—Ç—ã. –£ –Ω–∞—Å –æ—Å—Ç–∞–Ω–µ—Ç—Å—è —Ä–µ—Å—É—Ä—Å –¥–ª—è –ø–æ—Å—Ç–æ–≤, –Ω–æ –¥–æ–±–∞–≤–∏—Ç—Å—è –µ—â–µ –æ–¥–∏–Ω —Ä–µ—Å—É—Ä—Å -- –¥–ª—è —é–∑–µ—Ä–æ–≤, —Å —Ç–æ—á–Ω–æ —Ç–∞–∫–∏–º –∂–µ –Ω–∞–±–æ—Ä–æ–º CRUD-–æ–ø–µ—Ä–∞—Ü–∏–π.

–ï—â–µ –æ–¥–∏–Ω –º–æ–º–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –º—ã –¥–æ–ª–∂–µ–Ω –∑–∞—Ç—Ä–æ–Ω—É—Ç—å –≤ —ç—Ç–æ–π –ª–∞–±–µ -- —ç—Ç–æ —Å–æ–∑–¥–∞–Ω–∏–µ –≥—Ä–∞–º–æ—Ç–Ω—ã—Ö –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ API. –ú—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã Controller, Service –∏ Repository. –í –¥–∞–Ω–Ω–æ–π —Ä–∞–±–æ—Ç–µ –≤–∞–º –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç—Å—è –ø–µ—Ä–µ–¥–µ–ª–∞—Ç—å API –ø–æ–¥ —ç—Ç–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã.

–ù–∞–ø–∏—Å–∞—Ç—å API –ø–æ –ø–∞—Ç—Ç–µ—Ä–Ω—É CSR (Controller, Service, Repository) -- –∑–Ω–∞—á–∏—Ç —Ä–∞–∑–±–∏—Ç—å API –Ω–∞ 3 —Å–ª–æ—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π. –ö–∞–∂–¥—ã–π —Å–ª–æ–π –±—É–¥–µ—Ç –æ—Ç–≤–µ—á–∞—Ç—å –∑–∞ —Å–≤–æ—é –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –∑–∞–¥–∞—á—É –∏ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å "—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ" –¥—Ä—É–≥–∏–º —Å–ª–æ—è–º, –≤ —Å–ª—É—á–∞–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏. –ò—Ç–∞–∫, —Ç–µ–ø–µ—Ä—å –ø—Ä–æ –∫–∞–∂–¥—ã–π —Å–ª–æ–π:

1. Controller -- —ç—Ç–æ –Ω–∞—à –ø–µ—Ä–≤—ã–π —Å–ª–æ–π –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π, –æ–Ω —Å–∞–º—ã–π –±–ª–∏–∂–∞–π—à–∏–π –∫ –∫–ª–∏–µ–Ω—Ç—É (–∫ —Ç–æ–º—É, –∫—Ç–æ –ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞—à–∏–º API). –≠—Ç–æ—Ç —Å–ª–æ–π —Ä–µ—à–∞–µ—Ç –æ–¥–Ω—É –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –∑–∞–¥–∞—á—É: –æ–Ω –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Ö–æ–¥—è—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã –ø–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º –ø—É—Ç—è–º. –û–±—ã—á–Ω–æ, –Ω–∞ –∫–∞–∂–¥—ã–π —Ä–µ—Å—É—Ä—Å (—Ç–æ –µ—Å—Ç—å –Ω–∞ –∫–∞–∂–¥—É—é —Å—É—â–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: Post, User –∏ –ø—Ä–æ—á.) –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –æ–¥–∏–Ω –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä. **–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä —Ç–æ–ª—å–∫–æ —Å—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –∏ –¥–∞–ª—å—à–µ –ø–µ—Ä–µ–¥–∞–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞–º, –ø–æ—ç—Ç–æ–º—É, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –Ω–µ –æ–ø–∏—Å—ã–≤–∞–π—Ç–µ –ª–æ–≥–∏–∫—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ -- –∫–æ–¥ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∫–æ–º–ø–∞–∫—Ç–Ω—ã–º: —Å–ª–æ–≤–∏–ª –∑–∞–ø—Ä–æ—Å—ã -> –ø–µ—Ä–µ–¥–∞–ª —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—É.** –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å–æ —Å–≤–æ–∏–º —Ä–µ—Å—É—Ä—Å–∞–º. –ù–∞–ø—Ä–∏–º–µ—Ä: –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —á–∞—Ç–µ –º–æ–∂–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –ø—É—Ç–∏: `GET /messages, POST /messages, GET /messages/:id, PATCH /messages/:id`

2. Service -- —ç—Ç–æ –≤—Ç–æ—Ä–æ–π —Å–ª–æ–π –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π, –≤ –Ω–µ–º –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤—Å—è –ª–æ–≥–∏–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å –ø–æ–ª—É—á–∞–µ—Ç –æ—Ç –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞. –í —Å–µ—Ä–≤–∏—Å–∞—Ö –º—ã –¥–æ–ª–∂–Ω—ã —Ö—Ä–∞–Ω–∏—Ç—å –≤—Å–µ, —á—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –Ω–∞–ø—Ä–∏–º–µ—Ä: –º–µ—Ç–æ–¥—ã –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –º–µ—Ç–æ–¥—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –≤—Å–µ—Ö –ø–æ—Å—Ç–æ–≤, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ—Å—Ç–æ–≤ –∏ –ø—Ä–æ—á. –ú–µ—Ç–æ–¥—ã –≤ —Å–µ—Ä–≤–∏—Å–∞—Ö –º–æ–≥—É—Ç –±—ã—Ç—å –≥—Ä–æ–º–æ–∑–¥–∫–∏–º–∏, —á–∞—Å—Ç–æ –∏—Ö –Ω—É–∂–Ω–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å. –ù–∞ –∫–∞–∂–¥—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –º–æ–∂–µ—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ—Ä–≤–∏—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å —Ä–∞–∑–±–∏—Ç—ã –ø–æ feature-–∞–º: –Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–µ—Ä–≤–∏—Å –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π –∑–∞ –≤—Å–µ, —á—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–µ–π; —Å–µ—Ä–≤–∏—Å, –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π –∑–∞ –≤—Å–µ, —á—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å –ø—É—à-–Ω–æ—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è–º–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø—Ä–æ—á. **–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –≤ —Å–µ—Ä–≤–∏—Å–µ –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –Ω–∏—á–µ–≥–æ –ø—Ä–æ —Ç–æ –∫–∞–∫ –º—ã —Ö—Ä–∞–Ω–∏–º –¥–∞–Ω–Ω—ã–µ –∏ –∫–∞–∫–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —É –Ω–∞—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è -- —Å–µ—Ä–≤–∏—Å—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∏ –ø–æ–ª—É—á–∞—é—Ç –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.**

3. Repository -- —ç—Ç–æ–π –ø–æ—Å–ª–µ–¥–Ω–∏–π —Å–ª–æ–π –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–µ–Ω –∑–∞ –≤—Å–µ, —á—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å –¥–∞–Ω–Ω—ã–º–∏. –ó–∞–ø—Ä–æ—Å—ã –∫ –ë–î, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏, –ø–∞–≥–∏–Ω–∞—Ü–∏–∏, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏, —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π –≤ –ë–î –∏ –ø—Ä–æ—á. -- –≤—Å–µ —ç—Ç–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è—Ö. –ö –∫–∞–∂–¥–æ–π —Å—É—â–Ω–æ—Å—Ç–∏ –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –æ–¥–∏–Ω —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π -- –ø–æ—Ç–æ–º—É, —á—Ç–æ –∫–∞–∂–¥–æ–π —Å—É—â–Ω–æ—Å—Ç–∏ (–æ–±—ã—á–Ω–æ) —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ–¥–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ –ë–î. –ü–æ—ç—Ç–æ–º—É, –≤—ã –º–æ–∂–µ—Ç–µ –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –∫–∞–∫ –Ω–µ–∫–æ—Ç–æ—Ä—ã–π API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ç–∞–±–ª–∏—Ü–µ–π –≤ –ë–î.

## –†–µ—Å—É—Ä—Å—ã:

**–°—Ç–∞—Ç–µ–µ–∫ –∏–º–µ–Ω–Ω–æ –ø–æ –Ω–∞—à–µ–π —Ç–µ–º–µ –Ω–µ –Ω–∞—à–µ–ª, —Ç–∞–∫ —á—Ç–æ –ø–æ—á–∏—Ç–∞–π—Ç–µ –ø—Ä–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤, —Å–µ—Ä–≤–∏—Å–æ–≤ –∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ –≤ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞—Ö, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –¥–∞–ª—å–Ω–µ–π—à–∏—Ö –ª–∞–±–∞—Ö**

1. [–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –≤ NestJS](https://docs.nestjs.com/controllers)
2. [–°–µ—Ä–≤–∏—Å—ã –≤ NestJS](https://betterprogramming.pub/introduction-to-nestjs-services-2a7c9a629da9)
3. [–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –≤ TypeORM](https://www.tutorialspoint.com/typeorm/typeorm_working_with_repository.htm)

## ‚ùóÔ∏è <b>–ü–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º</b>:

1. –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω npm –Ω–∞ –º–∞—à–∏–Ω–µ (–º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–º–∞–Ω–¥—É npm -v);
2. –∫–æ–≥–¥–∞ —Å–∫–ª–æ–Ω–∏—Ä—É–µ—Ç–µ —ç—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∑–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã: npm i -g yarn (—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –≥–ª–æ–±–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è yarn), –∑–∞—Ç–µ–º yarn install (—É—Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞);
3. <b>—á—Ç–æ–±—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç –Ω–∞–ø–∏—à–∏—Ç–µ yarn start, –¥–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å—Å—è –±—Ä–∞—É–∑–µ—Ä –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ localhost:3000</b>

## –ó–∞–¥–∞–Ω–∏—è:

‚úÖ –°–æ–∑–¥–∞–π—Ç–µ —Ä–µ—Å—É—Ä—Å –¥–ª—è —é–∑–µ—Ä–æ–≤ –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å —Ä–µ—Å—É—Ä—Å–æ–º –¥–ª—è –ø–æ—Å—Ç–æ–≤ (src/users):

1. —Å–æ–∑–¥–∞–π—Ç–µ —Ä–µ—Å—É—Ä—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —é–∑–µ—Ä–∞–º–∏, –≤ –Ω–µ–º –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä, —Å–µ—Ä–≤–∏—Å –∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π. –†–∞–∑–±–µ–π—Ç–µ –≤—Å—é –ª–æ–≥–∏–∫—É –º–µ–∂–¥—É —ç—Ç–∏–º–∏ —Å–ª–æ—è–º–∏ –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å —Ä–µ—Å—É—Ä—Å–æ–º –ø–æ—Å—Ç–æ–≤.

üîé –ö—Ä–∏—Ç–µ—Ä–∏–π –ø—Ä–∏–µ–º–∫–∏: —è –≤–∏–∂—É, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å —Ä–µ—Å—É—Ä—Å –¥–ª—è —é–∑–µ—Ä–æ–≤ —Å –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–º, —Å–µ—Ä–≤–∏—Å–æ–º –∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–º.
üîé –ö—Ä–∏—Ç–µ—Ä–∏–π –ø—Ä–∏–µ–º–∫–∏: –≤–∞—à –∫–æ–¥ –ø—Ä–æ—Ö–æ–¥–∏—Ç —Ç–µ—Å—Ç—ã.
